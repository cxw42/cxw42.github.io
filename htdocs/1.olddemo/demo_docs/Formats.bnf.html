<html><head><title>Formats.bnf</title></head><body>
            <h1>Appendix III</h1>
<p>  Formats for
information exchanged between the
back-end and the front-end in the
current implementation of the Xanadu
hypertext system.
</p>
<pre>
&lt;wdelim&gt;  ::= '0

Tumblers

  &lt;tumbler&gt;      ::= &lt;texp&gt;
&lt;tumblerdigit&gt;* &lt;wdelim&gt;
  &lt;texp&gt;         ::= &lt;integer&gt;
  &lt;tumblerdigit&gt; ::= &lt;tdelim&gt;
&lt;integer&gt;
  &lt;tdelim&gt;       ::= '.'

Addresses

  &lt;doc id&gt;    ::= &lt;tumbler&gt;
  &lt;doc set&gt;   ::= &lt;ndocs&gt; &lt;doc id&gt;*
  &lt;link id&gt;   ::= &lt;tumbler&gt;
  &lt;doc vsa&gt;   ::= &lt;tumbler&gt;
  &lt;span set&gt;  ::= &lt;nspans&gt; &lt;span&gt;*
  &lt;span&gt;      ::= &lt;tumbler&gt; &lt;tumbler&gt;
  &lt;spec set&gt;  ::= &lt;nspecs&gt; &lt;spec&gt;*
  &lt;spec&gt;      ::= &lt;spec id&gt; { &lt;vspec&gt;
| &lt;span&gt; }
  &lt;spec id&gt;   ::= { 's' | 'v' }
&lt;wdelim&gt;
                  /* v for vspec, s
for span */
  &lt;vspec set&gt; ::= &lt;nvspecs&gt; &lt;vspec&gt;*
  &lt;vspec&gt;     ::= &lt;doc id&gt; &lt;vspan
set&gt;
  &lt;vspan set&gt; ::= &lt;nspans&gt; &lt;vspan&gt;*
  &lt;vspan&gt;     ::= &lt;span&gt;
  &lt;ndocs&gt;     ::= &lt;integer&gt; &lt;wdelim&gt;
  &lt;nspecs&gt;    ::= &lt;integer&gt; &lt;wdelim&gt;
  &lt;nvspecs&gt;   ::= &lt;integer&gt; &lt;wdelim&gt;
  &lt;nspans&gt;    ::= &lt;integer&gt; &lt;wdelim&gt;

Stuff

  &lt;vstuffset&gt; ::= &lt;nthings&gt; &lt;vthing&gt;*
  &lt;vthing&gt;    ::= &lt;text&gt; | &lt;link id&gt;
  &lt;text set&gt;  ::= &lt;ntexts&gt; &lt;text&gt;*
  &lt;ntexts&gt;    ::= &lt;integer&gt; &lt;wdelim&gt;
  &lt;text&gt;      ::= &lt;textflag&gt; &lt;nchars&gt;
&lt;char&gt;* ?&lt;wdelim&gt;
  &lt;textflag&gt;  ::= 't'
  &lt;nchars&gt;    ::= &lt;integer&gt; &lt;wdelim&gt;
  &lt;nthings&gt;   ::= &lt;integer&gt; &lt;wdelim&gt;

Link stuff

  &lt;from set&gt; ::= &lt;spec set&gt;
  &lt;to set&gt;   ::= &lt;spec set&gt;
  &lt;home set&gt; ::= &lt;spec set&gt;
  &lt;link set&gt; ::= &lt;nlinks&gt; &lt;link id&gt;*
  &lt;nlinks&gt;   ::= &lt;integer&gt; &lt;wdelim&gt;
</pre>
</body></html>
